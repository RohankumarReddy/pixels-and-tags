{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 11, "column": 0}, "map": {"version":3,"sources":["file:///R:/NextJS/Bigproject/gradkit/actions/LearningFeed.js"],"sourcesContent":["\"use server\";\r\n\r\nimport { NextResponse } from \"next/server\";\r\nimport { GoogleGenerativeAI } from \"@google/generative-ai\";\r\n\r\nconst genAI = new GoogleGenerativeAI(process.env.GEMINI_API_KEY);\r\nconst model = genAI.getGenerativeModel({ model: \"gemini-2.5-flash\" });\r\n\r\nexport async function POST(req) {\r\n  try {\r\n    const { industry, skills, interests } = await req.json();\r\n\r\n    if (!industry && (!skills || skills.length === 0) && (!interests || interests.length === 0)) {\r\n      return NextResponse.json(\r\n        { error: \"Please provide at least one field (industry, skills, interests)\" },\r\n        { status: 400 }\r\n      );\r\n    }\r\n\r\n    // Construct a prompt for AI to generate learning feed\r\n    const prompt = `\r\n      Create a personalized learning feed for a user with the following:\r\n      Industry: ${industry || \"General\"}\r\n      Skills: ${skills?.join(\", \") || \"None\"}\r\n      Interests: ${interests?.join(\", \") || \"General Knowledge\"}\r\n\r\n      Output 5 items, each with:\r\n      - title\r\n      - type (Article, Video, Podcast)\r\n      - source\r\n      - estimated time (e.g., 5 min read)\r\n      - 3 key bullet-point summary\r\n      - relevance to the user's career\r\n      - link to content (can be placeholder if none)\r\n\r\n      Respond in JSON array format like:\r\n      [\r\n        {\r\n          \"title\": \"...\",\r\n          \"type\": \"...\",\r\n          \"source\": \"...\",\r\n          \"time\": \"...\",\r\n          \"summary\": [\"...\", \"...\", \"...\"],\r\n          \"relevance\": \"...\",\r\n          \"link\": \"...\"\r\n        }\r\n      ]\r\n    `;\r\n\r\n    const result = await model.generateContent(prompt);\r\n    const text = result.response.text().trim();\r\n\r\n    // Parse JSON safely\r\n    let feed = [];\r\n    try {\r\n      feed = JSON.parse(text);\r\n    } catch (err) {\r\n      console.error(\"Failed to parse AI output:\", err, text);\r\n      return NextResponse.json(\r\n        { error: \"Failed to parse AI response\" },\r\n        { status: 500 }\r\n      );\r\n    }\r\n\r\n    return NextResponse.json({ feed });\r\n  } catch (error) {\r\n    console.error(\"Learning Feed Error:\", error);\r\n    return NextResponse.json(\r\n      { error: error.message || \"Server error generating feed\" },\r\n      { status: 500 }\r\n    );\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;;;;IAQsB,OAAA,WAAA,GAAA,IAAA,+OAAA,EAAA,8CAAA,oOAAA,EAAA,KAAA,GAAA,0OAAA,EAAA","debugId":null}},
    {"offset": {"line": 33, "column": 0}, "map": {"version":3,"sources":["file:///R:/NextJS/Bigproject/gradkit/app/%28main%29/learning-feed/page.jsx"],"sourcesContent":["\"use client\"\r\nimport { useState } from \"react\";\r\nimport { LearningFeed } from \"@/actions/LearningFeed\";\r\n\r\nexport default function LearningFeedPage() {\r\n  const [industry, setIndustry] = useState(\"\");\r\n  const [skills, setSkills] = useState(\"\");\r\n  const [interests, setInterests] = useState(\"\");\r\n  const [feed, setFeed] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const handleGenerateFeed = async () => {\r\n    setLoading(true);\r\n    setFeed([]);\r\n    try {\r\n      const result = await LearningFeed({\r\n        industry,\r\n        skills: skills.split(\",\").map(s => s.trim()).filter(Boolean),\r\n        interests: interests.split(\",\").map(i => i.trim()).filter(Boolean),\r\n      });\r\n      setFeed(result);\r\n    } catch (err) {\r\n      console.error(err);\r\n      alert(err.message || \"Failed to generate feed\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n <div className=\"container mx-auto max-w-5xl py-8 md:py-12 px-4 space-y-8\">\r\n      {/* Header */}\r\n      <div className=\"text-center mb-10\">\r\n        <h1 className=\"text-3xl md:text-5xl font-bold tracking-tight gradient-title\">\r\n          ðŸ“š Your AI Learning Feed\r\n        </h1>\r\n        <p className=\"text-lg md:text-xl text-muted-foreground mt-2 max-w-2xl mx-auto\">\r\n          Enter your industry, skills, and interests to generate a curated feed\r\n          of learning resources.\r\n        </p>\r\n      </div>\r\n\r\n      {/* Form Card */}\r\n      <Card className=\"shadow-lg w-full\">\r\n        <CardHeader>\r\n          <CardTitle className=\"text-2xl\">Customize Your Feed</CardTitle>\r\n          <CardDescription>\r\n            Tell us what you want to learn.\r\n          </CardDescription>\r\n        </CardHeader>\r\n        <CardContent className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"industry\">Your Industry</Label>\r\n            <Input\r\n              id=\"industry\"\r\n              placeholder=\"e.g., Artificial Intelligence\"\r\n              value={industry}\r\n              onChange={(e) => setIndustry(e.target.value)}\r\n            />\r\n          </div>\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"skills\">Your Skills (comma-separated)</Label>\r\n            <Textarea\r\n              id=\"skills\"\r\n              placeholder=\"e.g., Python, PyTorch, LLMs\"\r\n              className=\"h-24\"\r\n              value={skills}\r\n              onChange={(e) => setSkills(e.target.value)}\r\n            />\r\n          </div>\r\n          <div className=\"space-y-2 md:col-span-2\">\r\n            <Label htmlFor=\"interests\">Your Interests (comma-separated)</Label>\r\n            <Textarea\r\n              id=\"interests\"\r\n              placeholder=\"e.g., Generative Art, Robotics\"\r\n              className=\"h-24\"\r\n              value={interests}\r\n              onChange={(e) => setInterests(e.target.value)}\r\n            />\r\n          </div>\r\n        </CardContent>\r\n        <CardFooter>\r\n          <Button\r\n            onClick={handleGenerateFeed}\r\n            className=\"w-full md:w-auto text-lg py-6 shadow-md\"\r\n            disabled={loading}\r\n          >\r\n            {loading ? (\r\n              <Loader2 className=\"mr-2 h-5 w-5 animate-spin\" />\r\n            ) : (\r\n              <Sparkles className=\"mr-2 h-5 w-5\" />\r\n            )}\r\n            {loading ? \"Generating...\" : \"Generate Feed\"}\r\n          </Button>\r\n        </CardFooter>\r\n      </Card>\r\n\r\n      {/* Feed Results Area */}\r\n      <div className=\"space-y-6\">\r\n        {/* Loading State */}\r\n        {loading && (\r\n          <div className=\"flex flex-col items-center justify-center h-[30vh] text-center text-muted-foreground p-8\">\r\n            <Loader2 className=\"h-16 w-16 animate-spin mb-4 text-primary\" />\r\n            <p className=\"text-lg\">Generating your personalized feed...</p>\r\n            <p className=\"text-sm\">This may take a moment.</p>\r\n          </div>\r\n        )}\r\n\r\n        {/* Empty State */}\r\n        {!loading && feed.length === 0 && (\r\n          <div className=\"flex flex-col items-center justify-center h-[30vh] text-center text-muted-foreground p-8 border-2 border-dashed rounded-lg bg-muted/30\">\r\n            <Library className=\"h-16 w-16 mb-4\" />\r\n            <p className=\"text-lg font-medium\">Your Learning Feed is Empty</p>\r\n            <p className=\"text-sm\">\r\n              Fill out the form above to get started.\r\n            </p>\r\n          </div>\r\n        )}\r\n\r\n        {/* Results State */}\r\n        {!loading && feed.length > 0 && (\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n            {feed.map((item, index) => (\r\n              <Card\r\n                key={index}\r\n                className=\"shadow-md hover:shadow-lg transition-shadow\"\r\n              >\r\n                <CardHeader>\r\n                  <CardTitle className=\"text-xl\">{item.title}</CardTitle>\r\n                  <CardDescription>\r\n                    {item.type} â€¢ {item.source} â€¢ {item.time}\r\n                  </CardDescription>\r\n                </CardHeader>\r\n                <CardContent>\r\n                  <ul className=\"list-disc list-inside space-y-1 text-sm text-muted-foreground\">\r\n                    {item.summary.map((bullet, i) => (\r\n                      <li key={i}>{bullet}</li>\r\n                    ))}\r\n                  </ul>\r\n                </CardContent>\r\n                <CardFooter className=\"flex justify-between items-center\">\r\n                  <span className=\"text-sm font-medium text-primary\">\r\n                    Relevance: {item.relevance}\r\n                  </span>\r\n                  {/* Assumes your API response includes a 'link' property */}\r\n                  <Button asChild variant=\"secondary\" size=\"sm\">\r\n                    <a\r\n                      href={item.link || \"#\"}\r\n                      target=\"_blank\"\r\n                      rel=\"noopener noreferrer\"\r\n                    >\r\n                      <BookOpen className=\"mr-2 h-4 w-4\" />\r\n                      Read More\r\n                    </a>\r\n                  </Button>\r\n                </CardFooter>\r\n              </Card>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}
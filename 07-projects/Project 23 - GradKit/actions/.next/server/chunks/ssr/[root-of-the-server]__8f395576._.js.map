{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///R:/NextJS/Bigproject/gradkit/actions/LearningFeed.js"],"sourcesContent":["\"use server\";\r\n\r\nimport { GoogleGenerativeAI } from \"@google/generative-ai\";\r\n\r\nconst genAI = new GoogleGenerativeAI(process.env.GEMINI_API_KEY);\r\nconst model = genAI.getGenerativeModel({ model: \"gemini-2.5-flash\" });\r\n\r\nexport async function LearningFeed({ industry, skills, interests }) {\r\n  if (!industry && (!skills || skills.length === 0) && (!interests || interests.length === 0)) {\r\n    throw new Error(\"Please provide at least one field (industry, skills, interests).\");\r\n  }\r\n\r\n  const prompt =` You are a professional career development assistant. Generate a learning feed of 5 items for this user:\r\n- Industry: ${industry || \"General\"}\r\n- Skills: ${skills?.join(\", \") || \"None\"}\r\n- Interests: ${interests?.join(\", \") || \"General Knowledge\"}\r\n\r\n**Instructions:**\r\n1. Use your Google Search tool to find **real, live, working content**.\r\n2. Only include links that are currently accessible â€” DO NOT invent URLs.\r\n3. Provide all fields in **strict JSON format**: title, type, source, time, summary (3 bullets), relevance, link.\r\n4. Validate the JSON output and make sure it can be parsed without errors.`;\r\n\r\n  try {\r\n    const result = await model.generateContent(prompt);\r\n    let text = result.response.text().trim();\r\n\r\n    // Extract JSON array from text using regex\r\n    const jsonMatch = text.match(/\\[.*\\]/s);\r\n    if (!jsonMatch) throw new Error(\"AI output does not contain a JSON array\");\r\n\r\n    const feed = JSON.parse(jsonMatch[0]);\r\n\r\n    if (!Array.isArray(feed)) throw new Error(\"Parsed AI output is not an array\");\r\n    return feed;\r\n  } catch (err) {\r\n    console.error(\"Failed to generate learning feed:\", err);\r\n    throw new Error(\"Failed to generate learning feed. Make sure the AI output is valid JSON.\");\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;;;AAEA;;;;;AAEA,MAAM,QAAQ,IAAI,oLAAkB,CAAC,QAAQ,GAAG,CAAC,cAAc;AAC/D,MAAM,QAAQ,MAAM,kBAAkB,CAAC;IAAE,OAAO;AAAmB;AAE5D,eAAe,aAAa,EAAE,QAAQ,EAAE,MAAM,EAAE,SAAS,EAAE;IAChE,IAAI,CAAC,YAAY,CAAC,CAAC,UAAU,OAAO,MAAM,KAAK,CAAC,KAAK,CAAC,CAAC,aAAa,UAAU,MAAM,KAAK,CAAC,GAAG;QAC3F,MAAM,IAAI,MAAM;IAClB;IAEA,MAAM,SAAQ,CAAC;YACL,EAAE,YAAY,UAAU;UAC1B,EAAE,QAAQ,KAAK,SAAS,OAAO;aAC5B,EAAE,WAAW,KAAK,SAAS,oBAAoB;;;;;;0EAMc,CAAC;IAEzE,IAAI;QACF,MAAM,SAAS,MAAM,MAAM,eAAe,CAAC;QAC3C,IAAI,OAAO,OAAO,QAAQ,CAAC,IAAI,GAAG,IAAI;QAEtC,2CAA2C;QAC3C,MAAM,YAAY,KAAK,KAAK,CAAC;QAC7B,IAAI,CAAC,WAAW,MAAM,IAAI,MAAM;QAEhC,MAAM,OAAO,KAAK,KAAK,CAAC,SAAS,CAAC,EAAE;QAEpC,IAAI,CAAC,MAAM,OAAO,CAAC,OAAO,MAAM,IAAI,MAAM;QAC1C,OAAO;IACT,EAAE,OAAO,KAAK;QACZ,QAAQ,KAAK,CAAC,qCAAqC;QACnD,MAAM,IAAI,MAAM;IAClB;AACF;;;IAhCsB;;AAAA,+OAAA","debugId":null}},
    {"offset": {"line": 72, "column": 0}, "map": {"version":3,"sources":["file:///R:/NextJS/Bigproject/gradkit/app/%28main%29/learning-feed/page.jsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/app/(main)/learning-feed/page.jsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/app/(main)/learning-feed/page.jsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAqS,GAClU,mEACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 86, "column": 0}, "map": {"version":3,"sources":["file:///R:/NextJS/Bigproject/gradkit/app/%28main%29/learning-feed/page.jsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/app/(main)/learning-feed/page.jsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/app/(main)/learning-feed/page.jsx\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAiR,GAC9S,+CACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 100, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}}]
}